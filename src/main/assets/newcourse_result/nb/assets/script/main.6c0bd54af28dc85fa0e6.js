(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],{136:function(t,s,e){"use strict";var i=e(26);e.n(i).a},137:function(t,s,e){"use strict";var i=e(27);e.n(i).a},159:function(t,s,e){"use strict";var i=e(28);e.n(i).a},164:function(t,s,e){"use strict";var i=e(29);e.n(i).a},165:function(t,s,e){"use strict";var i=e(30);e.n(i).a},166:function(t,s,e){"use strict";e.r(s);var i=e(11),a=e.n(i),n=e(49),l=e.n(n),r=e(78),o=e.n(r),c=e(31),d=e.n(c),u=e(50),v=e.n(u),h=e(79),m=e.n(h),f=e(17),_=e.n(f),p={methods:{dispatch:function(t,s){for(var e,i=this.$parent||this.$root,a=i.$options.name;i&&(!a||t!==a);)(i=i.$parent)&&(a=i.$options.name);for(var n=arguments.length,l=new Array(n>2?n-2:0),r=2;r<n;r++)l[r-2]=arguments[r];i&&i.$emit.apply(i,_()(e=[s]).call(e,l))},broadcoast:function(t,s){var e;for(var i=arguments.length,a=new Array(i>2?i-2:0),n=2;n<i;n++)a[n-2]=arguments[n];(function t(s,e){for(var i,a=this,n=arguments.length,l=new Array(n>2?n-2:0),r=2;r<n;r++)l[r-2]=arguments[r];m()(i=this.$children).call(i,function(i){var n,r;i.$options.name===s?i.$emit.apply(i,_()(n=[e]).call(n,l)):t.apply(a,_()(r=[s,e]).call(r,l))})}).apply(this,_()(e=[t,s]).call(e,a))}}},C=function(t,s){t.style.transform="translate3d(".concat(s,"rem, 0, 0)"),t.style.webkitTransform="translate3d(".concat(s,"rem, 0, 0)")},x={name:"slider",props:{itemSize:{type:Number,default:12.14},offset:{type:Number,default:.64},defaultIndex:{type:Number,default:1}},data:function(){return{sliders:[],index:this.defaultIndex,startX:0,startY:0,startTime:0,dx:0,dy:0}},mixins:[p],created:function(){var t=this;this.$on("add",function(s){return t.sliders.push(s)})},computed:{sliderNum:function(){return this.sliders.length},wrapSize:function(){return this.sliderNum*this.itemSize+"rem"}},mounted:function(){C(this.$refs.wrapper,-this.defaultIndex*this.itemSize)},methods:{touchStartFn:function(t){this.startX=t.touches[0].pageX,this.startY=t.touches[0].pageY,this.startTime=v()(),this.$emit("start")},touchMoveFn:function(t){if(this.$emit("move"),this.dx=t.touches[0].pageX-this.startX,this.dy=t.touches[0].pageY-this.startY,Math.abs(this.dx)-Math.abs(this.dy)<50)return!1;t.preventDefault();var s,e=this.$refs.wrapper;(s=e).style.transition="none",s.style.webkitTransition="none";var i=this.dx/100-this.index*this.itemSize;this.dx>0&&0===this.index&&(i=0),this.dx<0&&this.index===this.sliderNum-1&&(i=(this.sliderNum-1)*-this.itemSize),C(e,i)},touchEndFn:function(t){var s;Math.abs(this.dx)-Math.abs(this.dy)>50&&Math.abs(this.dx/100)>this.itemSize/6&&v()()-this.startTime>50&&(this.dx>0&&this.index--,this.dx<0&&this.index++,this.index=Math.max(0,this.index),this.index=Math.min(this.index,this.sliderNum-1)),(s=this.$refs.wrapper).style.transition="transform 0.15s linear",s.style.webkitTransition="transform 0.15s linear",C(this.$refs.wrapper,-this.index*this.itemSize),this.startX=this.startY=this.dx=this.dy=0,this.$emit("change",this.index)}}},w=(e(136),e(4)),b=Object(w.a)(x,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"slider-box"},[e("div",{ref:"wrapper",staticClass:"slider-warpper",style:{width:t.wrapSize,left:t.offset+"rem"},on:{touchstart:t.touchStartFn,touchmove:t.touchMoveFn,touchend:t.touchEndFn}},[t._t("default")],2),t._v(" "),e("div",{staticClass:"points"},t._l(t.sliderNum,function(s,i){return e("span",{key:i,staticClass:"item",class:{active:t.index===i}})}),0)])},[],!1,null,null,null).exports,y={name:"sliderItem",props:{color:{type:String,default:"#ffffff"}},data:function(){return{}},mixins:[p],created:function(){this.dispatch("slider","add",this)}},g=(e(137),Object(w.a)(y,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"slider-item-box",style:{backgroundColor:this.color}},[this._t("default")],2)},[],!1,null,null,null).exports),k=e(80),D=e.n(k),S=e(81),T=e.n(S).a.create({baseURL:"https://live.xueersi.com"}),M=window.location.search,$=d.a.parse(M),I=function(t){return s=T.get("/science/LiveExam/getResultStatistic",{params:t}),new D.a(function(t,e){s.then(function(s){t(s.data)}).catch(function(t){return e(t)})});var s},N=e(32),F=e.n(N),U={data:function(){return{text:"",visible:!1}},methods:{close:function(){this.visible=!1},handleCloseText:function(t){this.close()}}},z=(e(159),Object(w.a)(U,function(){var t=this.$createElement,s=this._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"text-box",on:{touchend:this.handleCloseText}},[s("div",{staticClass:"text"},[this._v(this._s(this.text))])])])},[],!1,null,null,null).exports),A=a.a.extend(z),E=e(51),L=e.n(E),P=function(t){window.webkit&&window.webkit.messageHandlers.xesApp?window.webkit.messageHandlers.xesApp.postMessage(L()(t)):window.xesApp&&window.xesApp[t.methodName](L()(t))},B={data:function(){return{visible:!1,scale:1,resultData:{}}},methods:{closeModal:function(){this.visible=!1}}},X=(e(164),Object(w.a)(B,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal",on:{touchend:t.closeModal}},[e("div",{staticClass:"wrap",style:{transform:"scale("+t.scale+")"}},[e("div",{staticClass:"img"}),t._v(" "),e("ul",{staticClass:"list"},[e("li",{staticClass:"item"},[e("div",[t._v("做对步骤")]),t._v(" "),e("div",[t._v(t._s(t.resultData.rightStep)+"/"+t._s(t.resultData.totalStep))])]),t._v(" "),e("li",{staticClass:"item"},[e("div",[t._v("获得金币")]),t._v(" "),e("div",{staticClass:"num-box"},[e("div",{staticClass:"num"},[t._v("+"+t._s(t.resultData.gold))])])]),t._v(" "),t.resultData.reward?e("li",{staticClass:"item"},[e("div",[t._v("连对N次")]),t._v(" "),e("div",{staticClass:"num-box"},[e("div",{staticClass:"num"},[t._v("+"+t._s(t.resultData.reward))])])]):t._e()])])])])},[],!1,null,null,null).exports),Y=a.a.extend(X),j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=new Y({data:t});s.$mount(),document.body.appendChild(s.$el),s.visible=!0,F()(function(){s.visible=!1},3e3)},O=(d.a.parse(window.location.search),window.location.hash,sessionStorage.getItem("tackup")||1*$.force==1),R=!sessionStorage.getItem("modal"),H=1*$.isPlayBack==1,J={components:{slider:b,sliderItem:g},data:function(){return{resultData:{score:{},comment:[],detals:[],teamList:[],classList:[]},hasTackUp:O,titleList:["实验结果","得分细则","实验点评","班级排名"],showPass:!0,titleIndex:0,ifCanIntoTestMode:1*$.testMode==1,isPlayBack:H}},mounted:function(){var t=o()(l.a.mark(function t(){var s,e=this;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.__fn__(),t.next=3,I($);case 3:s=t.sent,console.log(s.data),this.resultData=s.data,(0===this.resultData.score.num&&1===this.resultData.score.percent||this.resultData.score.percent<.6)&&(this.showPass=!1),R&&this.ifCanIntoTestMode&&(j({resultData:this.resultData}),sessionStorage.setItem("modal",!0),P({methodName:"experimentResult",rightCount:this.resultData.reward,highGold:this.resultData.gold})),window.onTeachTakeUp=function(){e.hasTackUp||(e.hasTackUp=!0,sessionStorage.setItem("tackup",!0))};case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{showStepDetails:function(t){this.isSliderMove||(this.textAlert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=new A({data:t});return s.$mount(),document.body.appendChild(s.$el),s.visible=!0,F()(function(){return s.visible=!1},3e3),s}({text:t}))},intoTestModelFn:function(){this.ifCanIntoTestMode&&!this.hasTackUp&&P({methodName:"intoTestMode"})},closeBackFn:function(){P({methodName:"togglePackUp"})},handleChangeTitle:function(t){this.titleIndex=t,this.isSliderMove=!1},handleMove:function(){this.isSliderMove=!0}}},G=(e(165),Object(w.a)(J,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"full flex center",attrs:{id:"root"}},[e("div",{staticClass:"main-box cover"},[e("div",{staticClass:"title-box"},[t._v(t._s(t.titleList[t.titleIndex]))]),t._v(" "),e("div",{staticClass:"test-link",class:{disable:!t.ifCanIntoTestMode||t.hasTackUp},on:{touchstart:t.intoTestModelFn}},[t._v("进入练习模式 "),e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("div",{staticClass:"back-btn",on:{touchstart:t.closeBackFn}},[t._v("收起实验报告")]),t._v(" "),e("slider",{attrs:{defaultIndex:0},on:{change:t.handleChangeTitle,move:t.handleMove}},[e("sliderItem",[e("div",{staticClass:"scores-box full"},[e("div",{staticClass:"score-box fw flex center"},[e("span",{staticClass:"num"},[t._v(t._s(t.resultData.score.num))]),t._v("分")]),t._v(" "),!t.isPlayBack&&t.showPass?e("div",{staticClass:"pass-box fw flex center"},[t._v("超过"+t._s(Math.round(100*t.resultData.score.percent))+"%同学")]):t._e(),t._v(" "),e("div",{staticClass:"gold-box cover"},[e("span",{staticClass:"num"},[t._v(t._s(t.resultData.gold+t.resultData.reward))])]),t._v(" "),e("div",{staticClass:"reward-box"},[t._v("连对奖励："+t._s(t.resultData.reward)+"金币")])])]),t._v(" "),e("sliderItem",[e("div",{staticClass:"details-box full"},[e("div",{staticClass:"table full flex column"},[e("div",{staticClass:"header tr"},[e("div",{staticClass:"td"},[t._v("步骤")]),t._v(" "),e("div",{staticClass:"td"},[e("div",{staticClass:"item"},[t._v("步骤详情")])]),t._v(" "),e("div",{staticClass:"td"},[e("div",{staticClass:"item"},[t._v("得分")])]),t._v(" "),e("div",{staticClass:"td"},[e("div",{staticClass:"item"},[t._v("操作结果")])])]),t._v(" "),e("div",{staticClass:"body auto"},t._l(t.resultData.detals,function(s,i){return e("div",{key:s.name,staticClass:"tr"},[e("div",{staticClass:"td"},[e("span",[t._v(t._s(i+1)+" "+t._s(s.name))])]),t._v(" "),e("div",{staticClass:"td"},t._l(s.subStep,function(s,a){return e("div",{key:a,staticClass:"item",on:{touchend:function(e){return t.showStepDetails(s.name)}}},[t._v("\n                    "+t._s(i+1+"-"+(a+1))+" "+t._s(s.name)+"\n                  ")])}),0),t._v(" "),e("div",{staticClass:"td"},t._l(s.subStep,function(s,i){return e("div",{key:i,staticClass:"item"},[t._v(t._s(s.score))])}),0),t._v(" "),e("div",{staticClass:"td"},t._l(s.subStep,function(s,i){return e("div",{key:i,staticClass:"item"},[t._v(t._s(s.right))])}),0)])}),0)])])]),t._v(" "),e("sliderItem",[e("div",{staticClass:"commet-box full flex column"},[e("div",{staticClass:"header"},[t._v("在操作及数据处理上，需要注意以下几点：")]),t._v(" "),e("div",{staticClass:"body auto"},t._l(t.resultData.comment,function(s,i){return e("div",{key:i,staticClass:"item"},[t._v(t._s(i+1)+" "+t._s(s))])}),0)])]),t._v(" "),t.isPlayBack?t._e():e("sliderItem",{attrs:{color:"rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"full flex between"},[e("div",{staticClass:"top-list flex column"},[e("div",{staticClass:"title"},[t._v("组内前15名")]),t._v(" "),e("div",{staticClass:"content flex column auto"},[e("div",{staticClass:"header tr"},[e("div",{staticClass:"td"},[t._v("排名")]),t._v(" "),e("div",{staticClass:"td"},[t._v("姓名")]),t._v(" "),e("div",{staticClass:"td"},[t._v("分数")])]),t._v(" "),e("div",{staticClass:"body auto"},t._l(t.resultData.teamList,function(s,i){return e("div",{key:s.stuId,staticClass:"tr"},[e("div",{staticClass:"td",class:{one:0==i,two:1==i,three:2==i}},[t._v(t._s(i<3?"":i+1))]),t._v(" "),e("div",{staticClass:"td"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"td"},[t._v(t._s(s.rightRate)+"分")])])}),0)])]),t._v(" "),e("div",{staticClass:"top-list flex column"},[e("div",{staticClass:"title"},[t._v("班级前15名")]),t._v(" "),e("div",{staticClass:"content flex column auto"},[t.hasTackUp?t._e():e("div",{staticClass:"no-data"},[t._v("老师收卷后出结果")]),t._v(" "),e("div",{staticClass:"header tr"},[e("div",{staticClass:"td"},[t._v("排名")]),t._v(" "),e("div",{staticClass:"td"},[t._v("姓名")]),t._v(" "),e("div",{staticClass:"td"},[t._v("分数")])]),t._v(" "),e("div",{staticClass:"body auto"},t._l(t.hasTackUp?t.resultData.classList:[],function(s,i){return e("div",{key:s.stuId,staticClass:"tr"},[e("div",{staticClass:"td",class:{one:0==i,two:1==i,three:2==i}},[t._v(t._s(i<3?"":i+1))]),t._v(" "),e("div",{staticClass:"td"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"td"},[t._v(t._s(s.rightRate)+"分")])])}),0)])])])])],1)],1)])},[],!1,null,null,null).exports);a.a.config.productionTip=!1,new a.a({el:"#root",render:function(t){return t(G)}})},26:function(t,s,e){},27:function(t,s,e){},28:function(t,s,e){},29:function(t,s,e){},30:function(t,s,e){}},[[166,"manifest","vendors~main"]]]);
//# sourceMappingURL=main.6c0bd54af28dc85fa0e6.js.map?