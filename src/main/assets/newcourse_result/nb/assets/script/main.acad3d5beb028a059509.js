(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],{138:function(t,s,e){"use strict";var a=e(28);e.n(a).a},139:function(t,s,e){"use strict";var a=e(29);e.n(a).a},159:function(t,s,e){"use strict";var a=e(30);e.n(a).a},164:function(t,s,e){"use strict";var a=e(31);e.n(a).a},165:function(t,s,e){"use strict";var a=e(32);e.n(a).a},166:function(t,s,e){"use strict";e.r(s);var a=e(11),i=e.n(a),n=e(18),l=e.n(n),r=e(15),o=e.n(r),c=e(50),d=e.n(c),u=e(33),v=e.n(u),h=e(51),f=e.n(h),m=e(79),_=e.n(m),p=e(19),C=e.n(p),x={methods:{dispatch:function(t,s){for(var e,a=this.$parent||this.$root,i=a.$options.name;a&&(!i||t!==i);)(a=a.$parent)&&(i=a.$options.name);for(var n=arguments.length,l=new Array(n>2?n-2:0),r=2;r<n;r++)l[r-2]=arguments[r];a&&a.$emit.apply(a,C()(e=[s]).call(e,l))},broadcoast:function(t,s){var e;for(var a=arguments.length,i=new Array(a>2?a-2:0),n=2;n<a;n++)i[n-2]=arguments[n];(function t(s,e){for(var a,i=this,n=arguments.length,l=new Array(n>2?n-2:0),r=2;r<n;r++)l[r-2]=arguments[r];_()(a=this.$children).call(a,function(a){var n,r;a.$options.name===s?a.$emit.apply(a,C()(n=[e]).call(n,l)):t.apply(i,C()(r=[s,e]).call(r,l))})}).apply(this,C()(e=[t,s]).call(e,i))}}},w=function(t,s){t.style.transform="translate3d(".concat(s,"rem, 0, 0)"),t.style.webkitTransform="translate3d(".concat(s,"rem, 0, 0)")},b={name:"slider",props:{itemSize:{type:Number,default:12.14},offset:{type:Number,default:.64},defaultIndex:{type:Number,default:1}},data:function(){return{sliders:[],index:this.defaultIndex,startX:0,startY:0,startTime:0,dx:0,dy:0}},mixins:[x],created:function(){var t=this;this.$on("add",function(s){return t.sliders.push(s)})},computed:{sliderNum:function(){return this.sliders.length},wrapSize:function(){return this.sliderNum*this.itemSize+"rem"}},mounted:function(){w(this.$refs.wrapper,-this.defaultIndex*this.itemSize)},methods:{touchStartFn:function(t){this.startX=t.touches[0].pageX,this.startY=t.touches[0].pageY,this.startTime=f()(),this.$emit("start")},touchMoveFn:function(t){if(this.$emit("move"),this.dx=t.touches[0].pageX-this.startX,this.dy=t.touches[0].pageY-this.startY,Math.abs(this.dx)-Math.abs(this.dy)<50)return!1;t.preventDefault();var s,e=this.$refs.wrapper;(s=e).style.transition="none",s.style.webkitTransition="none";var a=this.dx/100-this.index*this.itemSize;this.dx>0&&0===this.index&&(a=0),this.dx<0&&this.index===this.sliderNum-1&&(a=(this.sliderNum-1)*-this.itemSize),w(e,a)},touchEndFn:function(t){var s;Math.abs(this.dx)-Math.abs(this.dy)>50&&Math.abs(this.dx/100)>this.itemSize/6&&f()()-this.startTime>50&&(this.dx>0&&this.index--,this.dx<0&&this.index++,this.index=Math.max(0,this.index),this.index=Math.min(this.index,this.sliderNum-1)),(s=this.$refs.wrapper).style.transition="transform 0.15s linear",s.style.webkitTransition="transform 0.15s linear",w(this.$refs.wrapper,-this.index*this.itemSize),this.startX=this.startY=this.dx=this.dy=0,this.$emit("change",this.index)}}},y=(e(138),e(4)),g=Object(y.a)(b,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"slider-box"},[e("div",{ref:"wrapper",staticClass:"slider-warpper",style:{width:t.wrapSize,left:t.offset+"rem"},on:{touchstart:t.touchStartFn,touchmove:t.touchMoveFn,touchend:t.touchEndFn}},[t._t("default")],2),t._v(" "),e("div",{staticClass:"points"},t._l(t.sliderNum,function(s,a){return e("span",{key:a,staticClass:"item",class:{active:t.index===a}})}),0)])},[],!1,null,null,null).exports,k={name:"sliderItem",props:{color:{type:String,default:"#ffffff"}},data:function(){return{}},mixins:[x],created:function(){this.dispatch("slider","add",this)}},D=(e(139),Object(y.a)(k,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"slider-item-box",style:{backgroundColor:this.color}},[this._t("default")],2)},[],!1,null,null,null).exports),S=e(80),T=e.n(S),M=e(81),$=e.n(M).a.create({baseURL:"https://live.xueersi.com"}),I=window.location.search,N=v.a.parse(I),F=function(t){return s=$.get("/science/LiveExam/getResultStatistic",{params:t}),new T.a(function(t,e){s.then(function(s){t(s.data)}).catch(function(t){return e(t)})});var s},U={data:function(){return{text:"",visible:!1}},methods:{close:function(){this.visible=!1},handleCloseText:function(t){this.close()}}},z=(e(159),Object(y.a)(U,function(){var t=this.$createElement,s=this._self._c||t;return s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"text-box",on:{touchend:this.handleCloseText}},[s("div",{staticClass:"text"},[this._v(this._s(this.text))])])])},[],!1,null,null,null).exports),A=i.a.extend(z),E=e(52),L=e.n(E),P=function(t){window.webkit&&window.webkit.messageHandlers.xesApp?window.webkit.messageHandlers.xesApp.postMessage(L()(t)):window.xesApp&&window.xesApp[t.methodName](L()(t))},B={data:function(){return{visible:!1,scale:1,resultData:{}}},methods:{closeModal:function(){this.visible=!1}}},X=(e(164),Object(y.a)(B,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal",on:{touchend:t.closeModal}},[e("div",{staticClass:"wrap",style:{transform:"scale("+t.scale+")"}},[e("div",{staticClass:"img"}),t._v(" "),e("ul",{staticClass:"list"},[e("li",{staticClass:"item"},[e("div",[t._v("做对步骤")]),t._v(" "),e("div",[t._v(t._s(t.resultData.rightStep)+"/"+t._s(t.resultData.totalStep))])]),t._v(" "),e("li",{staticClass:"item"},[e("div",[t._v("获得金币")]),t._v(" "),e("div",{staticClass:"num-box"},[e("div",{staticClass:"num"},[t._v("+"+t._s(t.resultData.gold))])])]),t._v(" "),t.resultData.reward?e("li",{staticClass:"item"},[e("div",[t._v("连对N次")]),t._v(" "),e("div",{staticClass:"num-box"},[e("div",{staticClass:"num"},[t._v("+"+t._s(t.resultData.reward))])])]):t._e()])])])])},[],!1,null,null,null).exports),Y=i.a.extend(X),j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=new Y({data:t});s.$mount(),document.body.appendChild(s.$el),s.visible=!0,o()(function(){s.visible=!1},3e3)},O=(v.a.parse(window.location.search),window.location.hash,sessionStorage.getItem("tackup")||1*N.force==1),R=1*N.force==1,H=!sessionStorage.getItem("modal"),J=1*N.isPlayBack==1,G={components:{slider:g,sliderItem:D},data:function(){return{resultData:{score:{},comment:[],detals:[],teamList:[],classList:[]},hasTackUp:O,titleList:["实验结果","得分细则","实验点评","班级排名"],showPass:!0,titleIndex:0,ifCanIntoTestMode:1*N.testMode==1,isPlayBack:J}},mounted:function(){var t=d()(l.a.mark(function t(){var s,e=this;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.__fn__(),t.next=3,F(N);case 3:s=t.sent,console.log(s.data),this.resultData=s.data,(0===this.resultData.score.num&&1===this.resultData.score.percent||this.resultData.score.percent<.6)&&(this.showPass=!1),H&&(this.ifCanIntoTestMode||R)&&(j({resultData:this.resultData}),sessionStorage.setItem("modal",!0),P({methodName:"experimentResult",rightCount:this.resultData.reward,highGold:this.resultData.gold})),window.onTeachTakeUp=function(){var t=0,s=function(){var a=d()(l.a.mark(function a(){var i;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F(N);case 2:i=a.sent,e.resultData=i.data,t<8&&(t++,o()(function(){s()},8e3));case 5:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}();s(),e.hasTackUp||(e.hasTackUp=!0,sessionStorage.setItem("tackup",!0))};case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{showStepDetails:function(t){this.isSliderMove||(this.textAlert=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=new A({data:t});return s.$mount(),document.body.appendChild(s.$el),s.visible=!0,o()(function(){return s.visible=!1},3e3),s}({text:t}))},intoTestModelFn:function(){this.ifCanIntoTestMode&&!this.hasTackUp&&P({methodName:"intoTestMode"})},closeBackFn:function(){P({methodName:"togglePackUp"})},handleChangeTitle:function(t){this.titleIndex=t,this.isSliderMove=!1},handleMove:function(){this.isSliderMove=!0}}},q=(e(165),Object(y.a)(G,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"full flex center",attrs:{id:"root"}},[e("div",{staticClass:"main-box cover"},[e("div",{staticClass:"title-box"},[t._v(t._s(t.titleList[t.titleIndex]))]),t._v(" "),e("div",{staticClass:"test-link",class:{disable:!t.ifCanIntoTestMode||t.hasTackUp},on:{touchstart:t.intoTestModelFn}},[t._v("进入练习模式 "),e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("div",{staticClass:"back-btn",on:{touchstart:t.closeBackFn}},[t._v("收起实验报告")]),t._v(" "),e("slider",{attrs:{defaultIndex:0},on:{change:t.handleChangeTitle,move:t.handleMove}},[e("sliderItem",[e("div",{staticClass:"scores-box full"},[e("div",{staticClass:"score-box fw flex center"},[e("span",{staticClass:"num"},[t._v(t._s(t.resultData.score.num))]),t._v("分")]),t._v(" "),!t.isPlayBack&&t.showPass?e("div",{staticClass:"pass-box fw flex center"},[t._v("超过"+t._s(Math.round(100*t.resultData.score.percent))+"%同学")]):t._e(),t._v(" "),e("div",{staticClass:"gold-box cover"},[e("span",{staticClass:"num"},[t._v(t._s(t.resultData.gold+t.resultData.reward))])]),t._v(" "),e("div",{staticClass:"reward-box"},[t._v("连对奖励："+t._s(t.resultData.reward)+"金币")])])]),t._v(" "),e("sliderItem",[e("div",{staticClass:"details-box full"},[e("div",{staticClass:"table full flex column"},[e("div",{staticClass:"header tr"},[e("div",{staticClass:"td"},[t._v("步骤")]),t._v(" "),e("div",{staticClass:"td"},[e("div",{staticClass:"item"},[t._v("步骤详情")])]),t._v(" "),e("div",{staticClass:"td"},[e("div",{staticClass:"item"},[t._v("得分")])]),t._v(" "),e("div",{staticClass:"td"},[e("div",{staticClass:"item"},[t._v("操作结果")])])]),t._v(" "),e("div",{staticClass:"body auto"},t._l(t.resultData.detals,function(s,a){return e("div",{key:s.name,staticClass:"tr"},[e("div",{staticClass:"td"},[e("span",[t._v(t._s(a+1)+" "+t._s(s.name))])]),t._v(" "),e("div",{staticClass:"td"},t._l(s.subStep,function(s,i){return e("div",{key:i,staticClass:"item",on:{touchend:function(e){return t.showStepDetails(s.name)}}},[t._v("\n                    "+t._s(a+1+"-"+(i+1))+" "+t._s(s.name)+"\n                  ")])}),0),t._v(" "),e("div",{staticClass:"td"},t._l(s.subStep,function(s,a){return e("div",{key:a,staticClass:"item"},[t._v(t._s(s.score))])}),0),t._v(" "),e("div",{staticClass:"td"},t._l(s.subStep,function(s,a){return e("div",{key:a,staticClass:"item"},[t._v(t._s(s.right))])}),0)])}),0)])])]),t._v(" "),e("sliderItem",[e("div",{staticClass:"commet-box full flex column"},[e("div",{staticClass:"header"},[t._v("在操作及数据处理上，需要注意以下几点：")]),t._v(" "),e("div",{staticClass:"body auto"},t._l(t.resultData.comment,function(s,a){return e("div",{key:a,staticClass:"item"},[t._v(t._s(a+1)+" "+t._s(s))])}),0)])]),t._v(" "),t.isPlayBack?t._e():e("sliderItem",{attrs:{color:"rgba(0, 0, 0, 0)"}},[e("div",{staticClass:"full flex between"},[e("div",{staticClass:"top-list flex column"},[e("div",{staticClass:"title"},[t._v("组内前15名")]),t._v(" "),e("div",{staticClass:"content flex column auto"},[e("div",{staticClass:"header tr"},[e("div",{staticClass:"td"},[t._v("排名")]),t._v(" "),e("div",{staticClass:"td"},[t._v("姓名")]),t._v(" "),e("div",{staticClass:"td"},[t._v("分数")])]),t._v(" "),e("div",{staticClass:"body auto"},t._l(t.resultData.teamList,function(s,a){return e("div",{key:s.stuId,staticClass:"tr"},[e("div",{staticClass:"td",class:{one:0==a,two:1==a,three:2==a}},[t._v(t._s(a<3?"":a+1))]),t._v(" "),e("div",{staticClass:"td"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"td"},[t._v(t._s(s.rightRate)+"分")])])}),0)])]),t._v(" "),e("div",{staticClass:"top-list flex column"},[e("div",{staticClass:"title"},[t._v("班级前15名")]),t._v(" "),e("div",{staticClass:"content flex column auto"},[t.hasTackUp?t._e():e("div",{staticClass:"no-data"},[t._v("老师收卷后出结果")]),t._v(" "),e("div",{staticClass:"header tr"},[e("div",{staticClass:"td"},[t._v("排名")]),t._v(" "),e("div",{staticClass:"td"},[t._v("姓名")]),t._v(" "),e("div",{staticClass:"td"},[t._v("分数")])]),t._v(" "),e("div",{staticClass:"body auto"},t._l(t.hasTackUp?t.resultData.classList:[],function(s,a){return e("div",{key:s.stuId,staticClass:"tr"},[e("div",{staticClass:"td",class:{one:0==a,two:1==a,three:2==a}},[t._v(t._s(a<3?"":a+1))]),t._v(" "),e("div",{staticClass:"td"},[t._v(t._s(s.name))]),t._v(" "),e("div",{staticClass:"td"},[t._v(t._s(s.rightRate)+"分")])])}),0)])])])])],1)],1)])},[],!1,null,null,null).exports);i.a.config.productionTip=!1,new i.a({el:"#root",render:function(t){return t(q)}})},28:function(t,s,e){},29:function(t,s,e){},30:function(t,s,e){},31:function(t,s,e){},32:function(t,s,e){}},[[166,"manifest","vendors~main"]]]);
//# sourceMappingURL=main.acad3d5beb028a059509.js.map