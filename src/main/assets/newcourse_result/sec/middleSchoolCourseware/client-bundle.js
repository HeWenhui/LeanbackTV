(window.webpackJsonp=window.webpackJsonp||[]).push([["client-bundle"],{101:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(a(9)),n=i(a(102)),r=i(a(52));function i(t){return t&&t.__esModule?t:{default:t}}var u=!!i(a(51)).default.chs;console.log(u);var l=n.default.create({baseURL:u?"https://live.chs.xueersi.com":"https://live.xueersi.com/science",transformRequest:[function(t){return r.default.stringify(t)}]}),c=function(t){return new s.default(function(e,a){t.then(function(t){200===t.status?e(t.data):a(new Error("API 接口请求错误！ Code: "+t.status))}).catch(function(t){return a(t)})})};e.default={API_getStudentAnsweredResultData:function(t){return c(l.get("/LiveExam/getStuTestResult",{params:t}))},API_getTeamAnwseredResultPieData:function(t){return c(l.get("/LiveExam/teamTestStatistics",{params:t}))},API_getTeamTop15ListData:function(t){return c(l.get("/LiveExam/testStatisticsList",{params:t}))},API_getStudentRightManyTimeData:function(t){return c(l.get("/Stimulation/getRightNums",{params:t}))}}},121:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,a){var i=t.children[0],u=i.children.length,l=0,c=0,o=0,d=!1,f=0,v=0,h=0;r(i,-o*e/100+"rem"),t.addEventListener("touchstart",function(t){l=t.touches[0].pageX,c=t.touches[0].pageY,h=Date.now()}),t.addEventListener("touchmove",function(t){var a=t.touches[0],s=a.pageX,h=a.pageY;if(f=s-l,v=h-c,Math.abs(f)-Math.abs(v)<10)return!1;t.preventDefault(),n(i);var _=-o*e+f;f>0&&0===o&&(_=0),f<0&&o===u-1&&(_=(u-1)*-e),r(i,_/100+"rem"),d=!0}),t.addEventListener("touchend",function(){d&&Math.abs(f)>e/6&&Date.now()-h>50&&(f>0&&o--,f<0&&o++,o=Math.max(0,o),o=Math.min(o,u-1)),s(i),r(i,-o*e/100+"rem"),a&&a(o),l=c=f=v=0,d=!1})};var s=function(t){t.style.transition="transform 0.15s linear",t.style.webkitTransition="transform 0.15s linear"},n=function(t){t.style.transition="none",t.style.webkitTransition="none"},r=function(t,e){t.style.transform="translate3d("+e+", 0, 0)",t.style.webkitTransform="translate3d("+e+", 0, 0)"}},122:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var a=t.children[0],s=a.getContext("2d"),i=document.documentElement.clientWidth/1334*100*2,u=a.width=11.94*i,l=a.height=3*i,c=u/2,o=l/2,d=.6*i,f=1.38*i,v=3*Math.PI/2,h=v,_="#fff";s.clearRect(0,0,u,l);for(var p=0;p<e.length;p++){var g=2*Math.PI*e[p].preset;h=v+g,_=n[e[p].type],s.save(),s.fillStyle=_,s.beginPath(),s.arc(c,o,f,h,v,!0),s.arc(c,o,d,v,h),s.closePath(),s.fill(),s.restore(),v=h,r(s,_,e[p].preset,e[p].type,i)}};var s={wrong:{title:"全部错误",textAlign:"right",line:{start:[7.76,.7],end:[9.92,.7]}},partRight:{title:"部分正确",textAlign:"right",line:{start:[7.76,2],end:[9.92,2]}},right:{title:"全部正确",textAlign:"left",line:{start:[3.76,1.4],end:[1.6,1.4]}}},n={right:"#28B3AC",partRight:"#FFBB67",wrong:"#FF7878"},r=function(t,e,a,n,r){var i=.12*r,u=s[n].line.start[0]*r,l=s[n].line.start[1]*r;t.save(),t.fillStyle=e,t.arc(u,l,i,0,2*Math.PI),t.fill(),t.restore();var c=s[n].line.end[0]*r,o=s[n].line.end[1]*r,d=s[n].title,f="0%";f=1*a==1?"100%":1*a?100*a.toFixed(2)+"%":"0%",t.save(),t.strokeStyle=e,t.fillStyle=e,t.lineWidth=.04*r,t.textAlign=s[n].textAlign,t.font=.3*r+"px Arial",t.beginPath(),t.lineTo(u,l),t.lineTo(c,o),t.stroke(),t.fillText(f,c,o-.13*r),t.fillText(d,c,o+.35*r),t.restore()}},123:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$loading=void 0;var s=l(a(36)),n=l(a(37)),r=l(a(9)),i=l(a(34)),u=l(a(124));function l(t){return t&&t.__esModule?t:{default:t}}var c=i.default.extend(u.default);e.$loading=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new r.default((t=(0,n.default)(s.default.mark(function t(a){var n,i,u;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new c({data:e}),i=e.requestList,u=void 0===i?[]:i,n.$mount(),document.body.appendChild(n.$el),n.open(),t.next=7,s=u,r.default.all(s);case 7:n.close(),a();case 9:case"end":return t.stop()}var s},t,void 0)})),function(e){return t.apply(this,arguments)}))}},124:function(t,e,a){"use strict";a.r(e);var s=a(33),n=a(18);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);a(126);var i=a(21),u=Object(i.a)(n.default,s.a,s.b,!1,null,"4d935864",null);e.default=u.exports},125:function(t,e,a){t.exports=a.p+"assets/loading.gif?b11c27028f508c5526fc3fb65d97b6f3"},126:function(t,e,a){"use strict";var s=a(20);a.n(s).a},127:function(t,e,a){},16:function(t,e,a){"use strict";a.r(e);var s=a(17),n=a.n(s);for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);e.default=n.a},17:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=f(a(36)),n=f(a(37)),r=f(a(9)),i=f(a(99)),u=f(a(51)),l=f(a(101)),c=f(a(121)),o=f(a(122)),d=a(123);function f(t){return t&&t.__esModule?t:{default:t}}var v=!!(1*u.default.forceSubmit),h=!!(1*u.default.isPlayBack),_=function(t){return new r.default(function(e){return setTimeout(e,t)})};e.default={data:function(){return{var_initReady:!1,var_isForceSubmit:v,var_isPlayBack:h,var_teamAnsweredPieData:null,var_teamTop15ListData:{},var_studentAnsweredResultData:{},var_chartsData:null,var_currentPointIndex:0,var_requestTeamPieDataTimes:0,var_requestTeamTop15Times:0,var_maxRequestTimes:15,var_teacherHasTakeUp:!1}},computed:{getter_isShowResultPage:function(){return this.var_studentAnsweredResultData&&this.var_teamAnsweredPieData},getter_resutlPageTypeData:function(){var t=this.var_studentAnsweredResultData,e=t.gold,a="",s="";switch(t.type){case 0:a="w",s="很遗憾答错了，没有获得金币哟！";break;case 1:a="r",s="恭喜你答对了，获得"+e+"个金币！";break;case 2:a="p",s="部分正确，获得"+e+"个金币！"}return{backgroundClass:a,resultText:s}},getter_resultBackgroundClass:function(){return this.getter_resutlPageTypeData.backgroundClass},getter_resultPageText:function(){return this.getter_resutlPageTypeData.resultText},getter_studentAnswerList:function(){return this.var_studentAnsweredResultData.answerLists||[]},getter_teamGroupTop15Data:function(){return this.var_teamTop15ListData?this.var_teamTop15ListData.groupRank:[]},getter_teamClassTop15Data:function(){return this.var_teamTop15ListData?this.var_teamTop15ListData.classRank:[]}},mounted:function(){var t=this;return(0,n.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.__CLIENT_SUBMIT__=t.handleTeacherTackUp.bind(t),"#hasTakeUp"===window.location.hash&&(t.var_teacherHasTakeUp=!0),e.next=4,t.initResultPage();case 4:a={methodName:"resultPageLoaded"},window.webkit&&window.webkit.messageHandlers.xesApp?window.webkit.messageHandlers.xesApp.postMessage((0,i.default)(a)):window.xesApp&&window.xesApp[a.methodName]((0,i.default)(a));case 5:case"end":return e.stop()}var a},e,t)}))()},methods:{initResultPage:function(){var t=this;return(0,n.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initSwiper();case 2:return e.next=4,(0,d.$loading)({requestList:[t.requestAllResultPageData()]});case 4:t.var_initReady=!0,setInterval(function(){++t.var_requestTeamPieDataTimes<t.var_maxRequestTimes&&t.requestTeamAnsweredPieData(),(t.var_isForceSubmit||t.var_teacherHasTakeUp)&&++t.var_requestTeamTop15Times<t.var_maxRequestTimes&&t.requestStudentAnwseredResultData()},8e3);case 6:case"end":return e.stop()}},e,t)}))()},requestAllResultPageData:function(){var t=this.var_isForceSubmit||this.var_teacherHasTakeUp||this.var_isPlayBack;return r.default.all([this.requestStudentAnwseredResultData(),this.requestTeamAnsweredPieData(),t?this.requestTeamTop15ListData():r.default.resolve()])},requestStudentAnwseredResultData:function(){var t=this;return(0,n.default)(s.default.mark(function e(){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.API_getStudentAnsweredResultData(u.default);case 2:a=e.sent,console.log("学生作答结果和答案数据 ===>",a.data),t.var_studentAnsweredResultData=a.data;case 5:case"end":return e.stop()}},e,t)}))()},requestTeamAnsweredPieData:function(){var t=this;return(0,n.default)(s.default.mark(function e(){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.API_getTeamAnwseredResultPieData(u.default);case 2:a=e.sent,console.log("组内答题情况饼图数据 ===>",a.data),t.initChartsForPie(a.data);case 5:case"end":return e.stop()}},e,t)}))()},requestTeamTop15ListData:function(){var t=this;return(0,n.default)(s.default.mark(function e(){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.default.API_getTeamTop15ListData(u.default);case 2:a=e.sent,console.log("战队排名数据 ===>",a.data),t.var_teamTop15ListData=a.data;case 5:case"end":return e.stop()}},e,t)}))()},initSwiper:function(){var t=this;return new r.default(function(e){setTimeout(function(){(0,c.default)(t.$refs.swiperRef,1214,function(e){return t.var_currentPointIndex=e}),e()},30)})},initChartsForPie:function(t){var e=t||{},a=e.totalNum,s=void 0===a?1:a,n=e.charts,r=(void 0===n?[]:n).map(function(t){return t.preset=t.value/s,t.type=1*t.type==0?"wrong":1*t.type==1?"partRight":"right",t});this.$refs.chartsRef&&(0,o.default)(this.$refs.chartsRef,r)},handleTeacherTackUp:function(){var t=this;return(0,n.default)(s.default.mark(function e(){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.var_teacherHasTakeUp=!0,window.location.hash="#hasTakeUp",t.var_initReady){e.next=4;break}return e.abrupt("return",t.requestAllResultPageData());case 4:return e.next=6,(0,d.$loading)({message:"老师正在收卷，请稍后...",requestList:[t.requestAllResultPageData(),_(1e3)]});case 6:case"end":return e.stop()}},e,t)}))()},handleCloseWebPage:function(){window.location.href="https://www.baidu.com"}}}},18:function(t,e,a){"use strict";a.r(e);var s=a(19),n=a.n(s);for(var r in s)"default"!==r&&function(t){a.d(e,t,function(){return s[t]})}(r);e.default=n.a},19:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{visible:!1,message:"加载中，请稍后..."}},methods:{open:function(){this.visible=!0},close:function(){this.visible=!0,this.$el.parentNode.removeChild(this.$el),this.$destroy(!0)}}}},20:function(t,e,a){},32:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["result-root",t.getter_resultBackgroundClass]},[a("div",{staticClass:"result-info"},[t._v(t._s(t.getter_resultPageText))]),t._v(" "),a("div",{staticClass:"close",on:{click:t.handleCloseWebPage}}),t._v(" "),a("div",{ref:"swiperRef",staticClass:"swiper"},[a("div",{staticClass:"swiper-list-group"},[a("div",{staticClass:"swiper-item"},[a("div",{staticClass:"answer-info"},[t._m(0),t._v(" "),a("div",{staticClass:"content"},t._l(t.getter_studentAnswerList,function(e,s){return a("div",{key:e.testId,staticClass:"answer-item"},[a("div",{staticClass:"i index"},[t._v(t._s(s+1))]),t._v(" "),a("div",{staticClass:"i expect"},[a("div",{staticClass:"answer-wrap"},t._l(e.rightAnswer,function(e){return a("div",{key:e},[t._v(t._s(e))])}),0)]),t._v(" "),a("div",{staticClass:"i yours"},[a("div",{staticClass:"answer-wrap"},t._l(e.stuAnswer,function(e,s){return a("div",{key:s,class:{r:1*e.right==1,w:1*e.right==0,sf:!e.answer}},[t._v("\n                    "+t._s(e.answer?e.answer:"未作答")+"\n                  ")])}),0)]),t._v(" "),a("div",{staticClass:"i result",class:{r:1*e.isRight==2,p:1*e.isRight==1,w:1*e.isRight==0}})])}),0)])]),t._v(" "),a("div",{staticClass:"swiper-item"},[a("div",{staticClass:"pie-info"},[a("div",{staticClass:"header"},[a("span",{staticClass:"icon",class:t.getter_resultBackgroundClass}),t._v("\n            组内答题情况\n          ")]),t._v(" "),a("div",{ref:"chartsRef",staticClass:"pie"},[a("canvas",{attrs:{id:"canvas"}})])])]),t._v(" "),a("div",{staticClass:"swiper-item",staticStyle:{"background-color":"rgba(0, 0, 0, 0)"}},[a("div",{staticClass:"top-info"},[a("div",{staticClass:"top-15 left",class:t.getter_resultBackgroundClass},[a("div",{staticClass:"header"},[t._v("组内前15名")]),t._v(" "),a("div",{staticClass:"list"},[t._m(1),t._v(" "),a("div",{staticClass:"list-content"},t._l(t.getter_teamGroupTop15Data,function(e,s){return a("div",{key:e.stuId,staticClass:"item"},[a("div",{staticClass:"index",class:{one:0===s,two:1===s,three:2===s}},[t._v("\n                  "+t._s(s>2?s+1:"")+"\n                  ")]),t._v(" "),a("div",{staticClass:"name",class:{own:1*e.isMe==1}},[t._v(t._s(e.stuName))]),t._v(" "),a("div",{staticClass:"status",class:{own:1*e.isMe==1}},[t._v(t._s(e.correctRate))])])}),0)])]),t._v(" "),a("div",{staticClass:"top-15 right",class:t.getter_resultBackgroundClass},[a("div",{staticClass:"header"},[t._v("班内前15名")]),t._v(" "),a("div",{staticClass:"list"},[t._m(2),t._v(" "),a("div",{staticClass:"list-content"},t._l(t.getter_teamClassTop15Data,function(e,s){return a("div",{key:e.stuId,staticClass:"item"},[a("div",{staticClass:"index",class:{one:0===s,two:1===s,three:2===s}},[t._v("\n                  "+t._s(s>2?s+1:"")+"\n                  ")]),t._v(" "),a("div",{staticClass:"name",class:{own:1*e.isMe==1}},[t._v(t._s(e.stuName))]),t._v(" "),a("div",{staticClass:"status",class:{own:1*e.isMe==1}},[t._v(t._s(e.correctRate))])])}),0)])])])])])]),t._v(" "),a("div",{staticClass:"swiper-pointer-group"},t._l(3,function(e){return a("span",{key:e,staticClass:"pointer",class:{active:t.var_currentPointIndex===e-1}})}),0)])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header"},[e("div",{staticClass:"i index"},[this._v("题号")]),this._v(" "),e("div",{staticClass:"i expect"},[this._v("正确答案")]),this._v(" "),e("div",{staticClass:"i yours"},[this._v("你的答案")]),this._v(" "),e("div",{staticClass:"i result"},[this._v("答案情况")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-header"},[e("div",{staticClass:"index"},[this._v("排名")]),this._v(" "),e("div",{staticClass:"name"},[this._v("姓名")]),this._v(" "),e("div",{staticClass:"status"},[this._v("正确率")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"list-header"},[e("div",{staticClass:"index"},[this._v("排名")]),this._v(" "),e("div",{staticClass:"name"},[this._v("姓名")]),this._v(" "),e("div",{staticClass:"status"},[this._v("正确率")])])}];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},33:function(t,e,a){"use strict";var s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"loading"},[e("img",{staticClass:"img",attrs:{src:a(125)}}),this._v(" "),this._m(0),this._v(" "),e("div",{staticClass:"meta"},[this._v(this._s(this.message))])])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bar"},[e("div",{staticClass:"percent"})])}];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n})},51:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,n=a(52),r=(s=n)&&s.__esModule?s:{default:s};var i=window.location.search;console.log("当前 url query 参数:",r.default.parse(i));for(var u=r.default.parse(i),l=u.forceSubmit,c=u.stuId,o=u.stuCouId,d=u.packageId,f=u.liveId,v=u.packageSource,h=u.packageAttr,_=u.releasedPageInfos,p=u.isPlayBack,g=u.classId,m=u.classTestId,w=u.educationStage,C=u.teamId,T=u.nonce,x=u.chs,b=JSON.parse(_),k=[],P=[],y=0;y<b.length;y++){var A=b[y];for(var R in A)k.push(A[R][0]),P.push(A[R][1])}var D={forceSubmit:l,stuId:c,stuCouId:o,packageId:d,liveId:f,packageSource:v,packageAttr:h,releasedPageInfos:_,isPlayBack:p,classId:g,classTestId:m,srcTypes:k.join(","),testIds:P.join(","),educationStage:w,teamId:C,nonce:T,chs:x};console.log("解析完成的 query 参数:",D),e.default=D},58:function(t,e,a){"use strict";var s=r(a(34)),n=r(a(61));function r(t){return t&&t.__esModule?t:{default:t}}a(127),s.default.config.productionTip=!1,new s.default({el:"#root",render:function(t){return t(n.default)}})},61:function(t,e,a){"use strict";a.r(e);var s=a(32),n=a(16);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var i=a(21),u=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);e.default=u.exports}},[[58,"manifest","vendors~client-bundle"]]]);